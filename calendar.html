<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Calendar App</title>
    
    <!-- PWA Settings -->
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Calendar">
    <link rel="apple-touch-icon" href="assets/icons/icon.svg">
    <link rel="icon" type="image/svg+xml" href="assets/icons/icon.svg">

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            200: '#c7d2fe',
                            300: '#a5b4fc',
                            400: '#818cf8',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                            800: '#3730a3',
                            900: '#312e81'
                        },
                        secondary: {
                            100: '#cffafe',
                            200: '#a5f3fc',
                            300: '#67e8f9',
                            400: '#22d3ee',
                            500: '#06b6d4',
                            600: '#0e7490',
                            700: '#155e75',
                            800: '#164e63',
                            900: '#083344'
                        },
                        task: {
                            lecture: '#3b82f6',
                            tutorial: '#10b981',
                            training: '#f59e0b',
                            meeting: '#8b5cf6',
                            assignment: '#ef4444',
                            exam: '#ec4899',
                            break: '#6366f1',
                            other: '#6b7280'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.35s ease',
                        'slide-up': 'slideUp 0.35s ease'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: 0 },
                            '100%': { opacity: 1 }
                        },
                        slideUp: {
                            '0%': { opacity: 0, transform: 'translateY(12px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' }
                        }
                    }
                }
            }
        };
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 0 2px 4px rgba(15, 23, 42, 0.1);
            }

            .bg-gradient-light {
                background: linear-gradient(135deg, #e0f2fe 0%, #eef2ff 100%);
            }

            .bg-gradient-dark {
                background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            }

            .scrollbar-thin {
                scrollbar-width: thin;
            }

            .scrollbar-thin::-webkit-scrollbar {
                width: 6px;
            }

            .scrollbar-thin::-webkit-scrollbar-thumb {
                background-color: rgba(148, 163, 184, 0.6);
                border-radius: 3px;
            }

            .scrollbar-thin::-webkit-scrollbar-track {
                background: transparent;
            }

            .task-dot {
                width: 0.6rem;
                height: 0.6rem;
                border-radius: 9999px;
                display: inline-block;
            }
        }
    </style>
    <style>
        .calendar-day-cell {
            position: relative;
            min-height: 96px;
            border-radius: 0.75rem;
            border: 1px solid rgba(148, 163, 184, 0.3);
            background: rgba(255, 255, 255, 0.85);
            transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
            overflow: hidden;
        }

        .calendar-day-cell:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(15, 23, 42, 0.08);
        }

        .dark .calendar-day-cell {
            background: rgba(15, 23, 42, 0.65);
            border-color: rgba(71, 85, 105, 0.55);
        }

        .calendar-day-number {
            font-weight: 600;
            color: rgba(15, 23, 42, 0.82);
        }

        .dark .calendar-day-number {
            color: rgba(226, 232, 240, 0.9);
        }

        .calendar-day-meta {
            margin-top: 0.5rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.3rem;
            width: 100%;
        }

        .deadline-marker {
            position: absolute;
            top: 14px;
            bottom: 14px;
            right: 6px;
            width: 3px;
            border-radius: 9999px;
            background: linear-gradient(180deg, rgba(239, 68, 68, 0.95), rgba(220, 38, 38, 0.65));
        }

        .task-card {
            position: relative;
            padding: 1rem;
            border-radius: 0.9rem;
            border: 1px solid rgba(var(--task-color, 99, 102, 241), 0.35);
            background: linear-gradient(135deg, rgba(var(--task-color, 99, 102, 241), 0.18), rgba(var(--task-color, 99, 102, 241), 0.08));
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .task-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 16px 32px rgba(var(--task-color, 99, 102, 241), 0.22);
        }

        .dark .task-card {
            background: linear-gradient(135deg, rgba(var(--task-color, 99, 102, 241), 0.28), rgba(var(--task-color, 99, 102, 241), 0.12));
            border-color: rgba(var(--task-color, 99, 102, 241), 0.5);
        }

        .todo-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
            padding: 0.85rem 1rem;
            border-radius: 0.9rem;
            border: 1px solid rgba(148, 163, 184, 0.25);
            background: rgba(248, 250, 252, 0.8);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .todo-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(15, 23, 42, 0.08);
        }

        .dark .todo-item {
            background: rgba(30, 41, 59, 0.7);
            border-color: rgba(71, 85, 105, 0.45);
        }

        .todo-item.completed {
            opacity: 0.7;
        }

        .todo-item.completed .todo-title {
            text-decoration: line-through;
        }

        .mini-date-picker {
            border: 1px solid rgba(148, 163, 184, 0.4);
            border-radius: 0.75rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.9);
        }

        .mini-date-picker-container {
            width: 100%;
        }

        .dark .mini-date-picker {
            border-color: rgba(71, 85, 105, 0.6);
            background: rgba(15, 23, 42, 0.75);
        }

        .mini-date-picker__header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.45rem;
            font-weight: 600;
            color: #1f2937;
        }

        .mini-date-picker__label {
            flex: 1;
            text-align: center;
        }

        .dark .mini-date-picker__header {
            color: #e2e8f0;
        }

        .mini-date-picker__nav-btn {
            width: 2.25rem;
            height: 2.25rem;
            border-radius: 9999px;
            border: 1px solid rgba(148, 163, 184, 0.4);
            background: transparent;
            color: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .mini-date-picker__nav-btn:hover {
            background: rgba(99, 102, 241, 0.12);
        }

        .dark .mini-date-picker__nav-btn {
            border-color: rgba(71, 85, 105, 0.6);
        }

        .mini-date-picker__weekdays,
        .mini-date-picker__grid {
            display: grid;
            grid-template-columns: repeat(7, minmax(0, 1fr));
            gap: 0.25rem;
            text-align: center;
        }

        .mini-date-picker__weekdays {
            font-size: 0.65rem;
            text-transform: uppercase;
            color: #94a3b8;
            margin-bottom: 0.25rem;
        }

        .dark .mini-date-picker__weekdays {
            color: #cbd5f5;
        }

        .mini-date-picker__grid {
            font-size: 0.85rem;
        }

        .mini-date-picker__grid span {
            min-height: 2rem;
        }

        .mini-date-picker__day {
            width: 100%;
            min-height: 2.2rem;
            border-radius: 9999px;
            border: 1px solid transparent;
            background: transparent;
            color: #1f2937;
            font-weight: 500;
            transition: background 0.15s ease, color 0.15s ease, border-color 0.15s ease;
        }

        .mini-date-picker__day:hover,
        .mini-date-picker__day:focus-visible {
            background: rgba(79, 70, 229, 0.1);
            border-color: rgba(79, 70, 229, 0.4);
            outline: none;
        }

        .mini-date-picker__day.is-selected {
            background: rgba(79, 70, 229, 0.2);
            border-color: rgba(79, 70, 229, 0.6);
            color: #1f1b4b;
        }

        .mini-date-picker__day.is-today {
            color: #2563eb;
            font-weight: 700;
        }

        .dark .mini-date-picker__day {
            color: #e2e8f0;
        }

        .dark .mini-date-picker__day.is-selected {
            background: rgba(129, 140, 248, 0.35);
            border-color: rgba(129, 140, 248, 0.7);
            color: #f8fafc;
        }

        .dark .mini-date-picker__day.is-today {
            color: #a5b4fc;
        }

        .modal {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.55);
        }

        .ics-drop-zone {
            border: 2px dashed rgba(99, 102, 241, 0.4);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            background: rgba(99, 102, 241, 0.04);
            transition: border-color 0.2s ease, background 0.2s ease;
            cursor: pointer;
        }

        .dark .ics-drop-zone {
            border-color: rgba(129, 140, 248, 0.5);
            background: rgba(79, 70, 229, 0.12);
        }

        .ics-drop-zone.dragging {
            border-color: rgba(79, 70, 229, 0.9);
            background: rgba(129, 140, 248, 0.15);
        }

        @media (max-width: 640px) {
            .calendar-day-cell {
                min-height: auto;
                aspect-ratio: 1 / 1;
                padding: 0.75rem 0.5rem;
            }

            .calendar-day-meta {
                margin-top: 0.25rem;
            }
        }
    </style>
</head>
<body id="body-element" class="min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300 font-sans">
    <nav class="bg-white dark:bg-gray-900 shadow-md transition-colors duration-300">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img class="h-10 w-10 rounded-lg shadow-sm" src="assets/icons/icon.svg" alt="Calendar Logo">
                    <span class="text-xl font-bold text-primary-600 dark:text-primary-400">CalendarPro</span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a class="text-gray-600 dark:text-gray-300 font-medium hover:text-primary-600 dark:hover:text-primary-400 transition-colors" href="index.html">Home</a>
                    <a class="text-gray-600 dark:text-gray-300 font-medium hover:text-primary-600 dark:hover:text-primary-400 transition-colors" href="intro.html">Introduction</a>
                    <a class="text-primary-600 dark:text-primary-400 font-semibold" href="calendar.html">Calendar</a>
                </div>
                <div class="flex items-center space-x-3">
                    <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors" aria-label="Toggle theme">
                        <i class="fa fa-moon-o text-gray-600 dark:hidden" aria-hidden="true"></i>
                        <i class="fa fa-sun-o text-yellow-300 hidden dark:block" aria-hidden="true"></i>
                    </button>
                    <button id="mobile-menu-button" class="md:hidden" aria-label="Toggle navigation">
                        <i class="fa fa-bars text-gray-600 dark:text-gray-300" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden pt-4 space-y-2 animate-fade-in">
                <a class="block py-2 text-gray-600 dark:text-gray-300 font-medium hover:text-primary-600 dark:hover:text-primary-400 transition-colors" href="index.html">Home</a>
                <a class="block py-2 text-gray-600 dark:text-gray-300 font-medium hover:text-primary-600 dark:hover:text-primary-400 transition-colors" href="intro.html">Introduction</a>
                <a class="block py-2 text-primary-600 dark:text-primary-400 font-semibold" href="calendar.html">Calendar</a>
            </div>
        </div>
    </nav>

    <main class="py-10">
        <div class="container mx-auto px-4 space-y-8">
            <section class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-5">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Plan Your Schedule</h1>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Stay on top of classes, deadlines, and to-dos with a single glance.</p>
                    </div>
                    <div class="flex flex-wrap gap-3">
                        <button id="add-task-btn" class="inline-flex items-center gap-2 py-2.5 px-4 rounded-lg bg-primary-600 hover:bg-primary-700 text-white transition-colors">
                            <i class="fa fa-calendar-plus-o" aria-hidden="true"></i>
                            Add Schedule
                        </button>
                        <button id="add-deadline-btn" class="inline-flex items-center gap-2 py-2.5 px-4 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors">
                            <i class="fa fa-flag" aria-hidden="true"></i>
                            Add Deadline
                        </button>
                        <button id="add-todo-btn" class="inline-flex items-center gap-2 py-2.5 px-4 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white transition-colors">
                            <i class="fa fa-check-square-o" aria-hidden="true"></i>
                            Add To-Do
                        </button>
                        <button id="import-ics-btn" class="inline-flex items-center gap-2 py-2.5 px-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
                            <i class="fa fa-upload" aria-hidden="true"></i>
                            Import ICS
                        </button>
                        <button id="export-ics-btn" class="inline-flex items-center gap-2 py-2.5 px-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
                            <i class="fa fa-download" aria-hidden="true"></i>
                            Export ICS
                        </button>
                        <button id="clear-all-btn" class="inline-flex items-center gap-2 py-2.5 px-4 rounded-lg border border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                            Clear All
                        </button>
                    </div>
                    <p id="automation-status" class="text-sm text-gray-500 dark:text-gray-400 mt-2">Import an ICS file or paste an ICS link to keep this planner in sync.</p>
                </div>
                <div class="grid gap-6 mt-6 xl:grid-cols-[1.5fr,1fr]">
                    <div class="space-y-6">
                        <section class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5">
                            <div class="flex flex-wrap items-center justify-between gap-4">
                                <div class="flex items-center gap-3">
                                    <button id="prev-month" class="p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" aria-label="Previous month">
                                        <i class="fa fa-chevron-left" aria-hidden="true"></i>
                                    </button>
                                    <h2 id="current-month" class="text-lg font-semibold"></h2>
                                    <button id="next-month" class="p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" aria-label="Next month">
                                        <i class="fa fa-chevron-right" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <button id="today-btn" class="px-3 py-2 text-sm font-medium rounded-lg bg-secondary-100 text-secondary-700 hover:bg-secondary-200 dark:bg-secondary-900 dark:text-secondary-200 dark:hover:bg-secondary-800 transition-colors">Today</button>
                            </div>
                            <div class="mt-6 grid grid-cols-7 gap-2 text-center text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400">
                                <span>Sun</span>
                                <span>Mon</span>
                                <span>Tue</span>
                                <span>Wed</span>
                                <span>Thu</span>
                                <span>Fri</span>
                                <span>Sat</span>
                            </div>
                            <div id="calendar-grid" class="mt-2 grid grid-cols-7 gap-2"></div>
                        </section>

                        <section class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5">
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Schedule for <span id="selected-date-display">Today</span></h2>
                            <div id="schedule-container" class="space-y-4"></div>
                        </section>

                        <section class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5">
                            <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4">
                                <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100">To-Do for <span id="todo-date-display">Today</span></h2>
                                <button id="clear-completed-btn" class="inline-flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors">
                                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                                    Clear Completed
                                </button>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4 mt-4">
                                <div>
                                    <h3 class="text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2">Pending</h3>
                                    <div id="todo-pending-container" class="space-y-2"></div>
                                </div>
                                <div>
                                    <h3 class="text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2">Completed</h3>
                                    <div id="todo-completed-container" class="space-y-2"></div>
                                </div>
                            </div>
                        </section>

                        <section class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5">
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Deadlines</h2>
                            <div id="deadlines-container" class="space-y-4"></div>
                        </section>
                    </div>

                    <div class="space-y-6">
                        <section class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5">
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Today's Schedule</h2>
                            <div id="daily-schedule" class="max-h-[520px] overflow-y-auto scrollbar-thin pr-2 space-y-3"></div>
                        </section>

                        <section class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5">
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Today's Summary</h2>
                            <div class="space-y-6">
                                <div>
                                    <h3 class="text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2">Schedule</h3>
                                    <div id="today-schedule-container" class="space-y-2"></div>
                                </div>
                                <div>
                                    <h3 class="text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2">Deadlines</h3>
                                    <div id="today-deadlines-container" class="space-y-2"></div>
                                </div>
                                <div>
                                    <h3 class="text-sm font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2">To-Do</h3>
                                    <div id="today-todos-container" class="space-y-2"></div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

            </section>
        </div>
    </main>

    <!-- Add Schedule Modal -->
    <div id="add-task-modal" class="modal fixed inset-0 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md max-h-[85vh] overflow-y-auto scrollbar-thin animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">Add Schedule Item</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" aria-label="Close modal">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <form id="add-task-form" class="space-y-4">
                <input type="hidden" id="task-date" value="">
                <div>
                    <label for="task-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Title</label>
                    <input type="text" id="task-name" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                </div>
                <div>
                    <label for="task-type" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Category</label>
                    <select id="task-type" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                        <option value="lecture">Lecture</option>
                        <option value="tutorial">Tutorial</option>
                        <option value="training">Training</option>
                        <option value="meeting">Meeting</option>
                        <option value="assignment">Assignment</option>
                        <option value="exam">Exam</option>
                        <option value="break">Break</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Dates</label>
                        <p class="text-xs text-gray-500 dark:text-gray-400">Tap the mini calendar to the right (or below on mobile) to add specific days.</p>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <div class="flex-1 space-y-2">
                            <p class="text-xs font-semibold uppercase text-gray-500 dark:text-gray-400">Selected days</p>
                            <input type="hidden" id="task-dates-hidden" value="[]">
                            <div id="task-selected-dates" class="flex flex-wrap gap-2 text-sm"></div>
                        </div>
                        <div class="flex-1">
                            <div id="task-date-picker" class="mini-date-picker-container" aria-label="Select schedule dates"></div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="start-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Start Time</label>
                        <input type="time" id="start-time" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                    </div>
                    <div>
                        <label for="end-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">End Time</label>
                        <input type="time" id="end-time" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                    </div>
                </div>
                <div>
                    <label for="location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Location</label>
                    <input type="text" id="location" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div>
                    <label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label>
                    <textarea id="description" rows="3" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500"></textarea>
                </div>
                <div>
                    <label for="link" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Link (optional)</label>
                    <input type="url" id="link" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div class="flex justify-end gap-2">
                    <button type="button" class="close-modal px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Cancel</button>
                    <button type="submit" class="px-4 py-2 rounded-md bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors">Add Schedule</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Deadline Modal -->
    <div id="add-deadline-modal" class="modal fixed inset-0 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">Add Deadline</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" aria-label="Close modal">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <form id="add-deadline-form" class="space-y-4">
                <input type="hidden" id="deadline-date" value="">
                <div>
                    <label for="deadline-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Title</label>
                    <input type="text" id="deadline-name" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500" required>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="deadline-date-input" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Date</label>
                        <input type="date" id="deadline-date-input" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500" required>
                    </div>
                    <div>
                        <label for="deadline-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Time</label>
                        <input type="time" id="deadline-time" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500" required>
                    </div>
                </div>
                <div>
                    <label for="deadline-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label>
                    <textarea id="deadline-description" rows="3" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500"></textarea>
                </div>
                <div>
                    <label for="deadline-link" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Link (optional)</label>
                    <input type="url" id="deadline-link" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500">
                </div>
                <div class="flex justify-end gap-2">
                    <button type="button" class="close-modal px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Cancel</button>
                    <button type="submit" class="px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white font-medium transition-colors">Add Deadline</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add To-Do Modal -->
    <div id="add-todo-modal" class="modal fixed inset-0 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">Add To-Do</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" aria-label="Close modal">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <form id="add-todo-form" class="space-y-4">
                <input type="hidden" id="todo-date" value="">
                <div>
                    <label for="todo-title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Title</label>
                    <input type="text" id="todo-title" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500" required>
                </div>
                <div>
                    <label for="todo-notes" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Notes (optional)</label>
                    <textarea id="todo-notes" rows="3" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500"></textarea>
                </div>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Dates</label>
                        <p class="text-xs text-gray-500 dark:text-gray-400">Pick each day this to-do should appear by tapping the mini calendar.</p>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <div class="flex-1 space-y-2">
                            <p class="text-xs font-semibold uppercase text-gray-500 dark:text-gray-400">Selected days</p>
                            <input type="hidden" id="todo-dates-hidden" value="[]">
                            <div id="todo-selected-dates" class="flex flex-wrap gap-2 text-sm"></div>
                        </div>
                        <div class="flex-1">
                            <div id="todo-date-picker" class="mini-date-picker-container" aria-label="Select to-do dates"></div>
                        </div>
                    </div>
                </div>
                <div class="flex justify-end gap-2">
                    <button type="button" class="close-modal px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Cancel</button>
                    <button type="submit" class="px-4 py-2 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white font-medium transition-colors">Add To-Do</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Import ICS Modal -->
    <div id="import-ics-modal" class="modal fixed inset-0 hidden items-center justify-center z-50 px-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-lg animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <div>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">Import ICS Events</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Drag a calendar file here or paste a direct ICS link.</p>
                </div>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" aria-label="Close modal">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="space-y-5">
                <div id="ics-drop-zone" class="ics-drop-zone">
                    <div class="text-primary-600 dark:text-primary-400 text-2xl mb-2">
                        <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                    </div>
                    <p class="font-semibold text-gray-800 dark:text-gray-100">Drag & drop your .ics file</p>
                    <p class="text-sm text-gray-500 dark:text-gray-400">or click to browse your device</p>
                </div>
                <input id="ics-file-input" type="file" accept=".ics,text/calendar" class="hidden" />
                <div>
                    <label for="ics-link-input" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ICS Link</label>
                    <div class="flex flex-col sm:flex-row gap-3">
                        <input type="url" id="ics-link-input" placeholder="https://example.com/calendar.ics" class="flex-1 px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                        <button type="button" id="fetch-ics-link-btn" class="px-4 py-2 rounded-md bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors">Fetch Events</button>
                    </div>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Paste a direct download link (for example from Canvas) to import without saving the file locally.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Schedule Modal -->
    <div id="edit-task-modal" class="modal fixed inset-0 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">Edit Schedule Item</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" aria-label="Close modal">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <form id="edit-task-form" class="space-y-4">
                <input type="hidden" id="edit-task-id" value="">
                <div>
                    <label for="edit-task-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Title</label>
                    <input type="text" id="edit-task-name" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="edit-task-type" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Category</label>
                        <select id="edit-task-type" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                            <option value="lecture">Lecture</option>
                            <option value="tutorial">Tutorial</option>
                            <option value="training">Training</option>
                            <option value="meeting">Meeting</option>
                            <option value="assignment">Assignment</option>
                            <option value="exam">Exam</option>
                            <option value="break">Break</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div>
                        <label for="edit-task-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Date</label>
                        <input type="date" id="edit-task-date" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="edit-start-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Start Time</label>
                        <input type="time" id="edit-start-time" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                    </div>
                    <div>
                        <label for="edit-end-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">End Time</label>
                        <input type="time" id="edit-end-time" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500" required>
                    </div>
                </div>
                <div>
                    <label for="edit-location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Location</label>
                    <input type="text" id="edit-location" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div>
                    <label for="edit-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label>
                    <textarea id="edit-description" rows="3" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500"></textarea>
                </div>
                <div>
                    <label for="edit-link" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Link (optional)</label>
                    <input type="url" id="edit-link" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div class="flex justify-end gap-2">
                    <button type="button" id="delete-task-btn" class="px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white transition-colors">Delete</button>
                    <button type="button" class="close-modal px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Cancel</button>
                    <button type="submit" class="px-4 py-2 rounded-md bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Deadline Modal -->
    <div id="edit-deadline-modal" class="modal fixed inset-0 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">Edit Deadline</h3>
                <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" aria-label="Close modal">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <form id="edit-deadline-form" class="space-y-4">
                <input type="hidden" id="edit-deadline-id" value="">
                <div>
                    <label for="edit-deadline-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Title</label>
                    <input type="text" id="edit-deadline-name" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500" required>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="edit-deadline-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Date</label>
                        <input type="date" id="edit-deadline-date" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500" required>
                    </div>
                    <div>
                        <label for="edit-deadline-time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Time</label>
                        <input type="time" id="edit-deadline-time" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500" required>
                    </div>
                </div>
                <div>
                    <label for="edit-deadline-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label>
                    <textarea id="edit-deadline-description" rows="3" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500"></textarea>
                </div>
                <div>
                    <label for="edit-deadline-link" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Link (optional)</label>
                    <input type="url" id="edit-deadline-link" class="w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-red-500 focus:border-red-500">
                </div>
                <div class="flex justify-end gap-2">
                    <button type="button" id="delete-deadline-btn" class="px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white transition-colors">Delete</button>
                    <button type="button" class="close-modal px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">Cancel</button>
                    <button type="submit" class="px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white font-medium transition-colors">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Daily Reminder Modal -->
    <div id="daily-reminder-modal" class="modal fixed inset-0 hidden items-center justify-center z-40 px-4">
        <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-xl p-6 w-full max-w-lg animate-fade-in">
            <div class="flex justify-between items-center mb-3">
                <div>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">Today's Heads-Up</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Here's what needs attention as you start the day.</p>
                </div>
                <button type="button" id="close-daily-reminder-btn" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" aria-label="Dismiss daily reminder">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <ul id="daily-reminder-list" class="space-y-2 text-sm text-gray-700 dark:text-gray-300 mb-6"></ul>
            <div class="flex justify-end gap-3">
                <button type="button" id="dismiss-daily-reminder-btn" class="px-4 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors">Let's Go</button>
            </div>
        </div>
    </div>

    <footer class="bg-gray-900 dark:bg-black py-12 border-t border-gray-700 dark:border-gray-800">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between">
                <div class="mb-8 md:mb-0">
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="bg-primary-600 text-white p-1 rounded">
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                        </div>
                        <span class="text-lg font-medium text-white">Calendar<span class="text-primary-400">Pro</span></span>
                    </div>
                    <p class="text-gray-400 max-w-xs">
                        A modern, intuitive calendar system to help you efficiently manage tasks, deadlines, and schedules.
                    </p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
                    <div>
                        <h3 class="text-sm uppercase tracking-wider text-gray-400 mb-4">Quick Links</h3>
                        <ul class="space-y-2">
                            <li><a href="index.html" class="text-gray-300 hover:text-white transition-colors">Home</a></li>
                            <li><a href="intro.html" class="text-gray-300 hover:text-white transition-colors">Introduction</a></li>
                            <li><a href="calendar.html" class="text-gray-300 hover:text-white transition-colors">Calendar</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-sm uppercase tracking-wider text-gray-400 mb-4">Features</h3>
                        <ul class="space-y-2">
                            <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Task Management</a></li>
                            <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Deadline Tracking</a></li>
                            <li><a href="#" class="text-gray-300 hover:text-white transition-colors">Daily Schedule</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-sm uppercase tracking-wider text-gray-400 mb-4">Contact Us</h3>
                        <ul class="space-y-2">
                            <li class="flex items-center">
                                <i class="fa fa-envelope-o mr-2 text-primary-400" aria-hidden="true"></i>
                                <a href="mailto:info@calendarpro.com" class="text-gray-300 hover:text-white transition-colors">info@calendarpro.com</a>
                            </li>
                            <li class="flex items-center">
                                <i class="fa fa-phone mr-2 text-primary-400" aria-hidden="true"></i>
                                <span class="text-gray-300">+1 (555) 123-4567</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 dark:border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 mb-4 md:mb-0"> 2025 CalendarPro. All rights reserved.</p>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fa fa-facebook" aria-hidden="true"></i>
                    </a>
                    <a href="#" class="text-gray-500 hover:text-white transition-colors">
                        <i class="fa fa-twitter" aria-hidden="true"></i>
                    </a>
                    <a href="#" class="text-gray-500 hover:text-white transition-colors">
                        <i class="fa fa-instagram" aria-hidden="true"></i>
                    </a>
                    <a href="#" class="text-gray-500 hover:text-white transition-colors">
                        <i class="fa fa-linkedin" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/calendar-page.js"></script>

</body>
</html>
